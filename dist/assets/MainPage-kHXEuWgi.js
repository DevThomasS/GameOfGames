var W=Object.defineProperty;var Q=(e,n,t)=>n in e?W(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var h=(e,n,t)=>(Q(e,typeof n!="symbol"?n+"":n,t),t);import{F as r}from"./Factions-4QeL1nQW.js";import{D as x}from"./Expansions-8Su4_EZG.js";import{d as T,_ as $,o as w,c as U,w as a,F as H,n as V,t as S,a as g,b as o,e as _,r as P,f as B,v as z,g as N,h as M,i as F,p as J,j as Z}from"./index-MyLw8Vv_.js";import{V as C,a as K,b as j,c as q,d as v,e as y,f as G,g as X}from"./VListItem-WgNtf0bQ.js";import{V as L}from"./VCard-KLo3yIsj.js";class m{constructor(n,t,s){h(this,"faction");h(this,"loaded");h(this,"color");h(this,"image_url");h(this,"data");this.faction=n,this.loaded=!1,this.color=t,this.image_url=s,this.data=new D(n,i.Unknown,0,0,i.Unknown,0,i.Unknown,r.Unknown,[])}static getFactions(){return[new m(r.Atreides,"rgba( 0, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Atreides-3P-dQzR_.png",import.meta.url).href),new m(r.BeneGesserit,"rgba( 0, 0, 255, 0.05 )",new URL("/GameOfGames/assets/BeneGesserit-03LS4aoO.png",import.meta.url).href),new m(r.Emperor,"rgba( 255, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Emperor-WohKIglq.png",import.meta.url).href),new m(r.Fremen,"rgba( 255, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Fremen-nA5vhvC8.png",import.meta.url).href),new m(r.Harkonnen,"rgba( 0, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Harkonnen-U4LPhx-O.png",import.meta.url).href),new m(r.SpacingGuild,"rgba( 255, 110, 0, 0.05 )",new URL("/GameOfGames/assets/SpacingGuild-IL1zvpbT.png",import.meta.url).href),new m(r.Ixians,"rgba( 200, 190, 120, 0.05 )",new URL("/GameOfGames/assets/Ixians-eYszch7k.png",import.meta.url).href),new m(r.Tleilaxu,"rgba( 130, 0, 200, 0.05 )",new URL("/GameOfGames/assets/Tleilaxu-7vmw99ka.png",import.meta.url).href),new m(r.CHOAM,"rgba( 0, 0, 0, 0 )",new URL("/GameOfGames/assets/CHOAM-VtU5ofUh.png",import.meta.url).href),new m(r.Richese,"rgba( 255, 255, 255, 0.05 )",new URL("/GameOfGames/assets/Richese-LaG0PqEf.png",import.meta.url).href),new m(r.Ecaz,"rgba( 200, 0, 130, 0.05 )",new URL("/GameOfGames/assets/Ecaz-F7pBt7gC.png",import.meta.url).href),new m(r.Moritani,"rgba( 0, 180, 255, 0.05 )",new URL("/GameOfGames/assets/Moritani-pC17q5-D.png",import.meta.url).href)]}}class D{constructor(n,t,s,c,f,l,p,R,E){h(this,"faction");h(this,"person");h(this,"usage_rate");h(this,"win_rate");h(this,"champion");h(this,"average_game_length");h(this,"adversary");h(this,"rival_house");h(this,"seat_rates");this.faction=n,this.person=t,this.usage_rate=s,this.win_rate=c,this.champion=f,this.average_game_length=l,this.adversary=p,this.rival_house=R,this.seat_rates=E}static getFactionStatistics(n,t){const s=n.filter(l=>l.players.find(p=>p.faction===t)),c=this.getFactionWins(s,t),f=this.getFactionDefeats(s,t);return new D(t,i.Unknown,(s.length||0)/(n.length||1),(c.length||0)/(s.length||1),this.getMaxPerson(c),(s.reduce((l,p)=>l+p.end_turn,0)||0)/(s.length||1),this.getMaxPerson(f),this.getMaxFaction(f,i.Unknown),[])}static getPersonStatistics(n,t){if(t===i.Unknown)return this.getUnknownPersonStatistics(n);const s=n.filter(l=>l.players.find(p=>p.person===t)),c=this.getPersonWins(s,t),f=this.getPersonDefeats(s,t);return new D(r.Unknown,t,s.length,(c.length||0)/(s.length||1),this.getMaxFaction(c,t),(s.reduce((l,p)=>l+p.end_turn,0)||0)/(s.length||1),this.getMaxPerson(f),this.getMaxFaction(f,i.Unknown),[])}static getUnknownPersonStatistics(n){return new D(r.Unknown,i.Unknown,n.length,0,this.getMaxFaction(n,i.Unknown),(n.reduce((t,s)=>t+s.end_turn,0)||0)/(n.length||1),i.Unknown,r.Unknown,this.getSeatRates(n))}static getFactionWins(n,t){return n.filter(s=>s.players.find(c=>A.includes(c.victory_type)&&c.faction===t))}static getFactionDefeats(n,t){return n.filter(s=>s.players.find(c=>!A.includes(c.victory_type)&&c.faction===t))}static getMaxPerson(n){const t=[{person:i.Unknown,victories:0}];for(const s of n){const c=s.players.filter(f=>A.includes(f.victory_type));for(const f of c){const l=t.find(p=>p.person===f.person);l?l.victories++:t.push({person:f.person,victories:1})}}return t.reduce((s,c)=>c.victories>s.victories?c:s).person}static getMaxFaction(n,t){const s=[{faction:r.Unknown,victories:0}];let c=s.find(l=>l.faction===r.Unknown),f=[];for(const l of n){t===i.Unknown?f=l.players.filter(p=>A.includes(p.victory_type)):f=l.players.filter(p=>A.includes(p.victory_type)&&p.person===t);for(const p of f)c=s.find(R=>R.faction===p.faction),c?c.victories++:s.push({faction:p.faction,victories:1})}return s.reduce((l,p)=>p.victories>l.victories?p:l).faction}static getPersonWins(n,t){return n.filter(s=>s.players.find(c=>A.includes(c.victory_type)&&c.person===t))}static getPersonDefeats(n,t){return n.filter(s=>s.players.find(c=>!A.includes(c.victory_type)&&c.person===t))}static getSeatRates(n){const t=[0,0,0,0,0,0];for(const s of n){const c=s.players.filter(f=>A.includes(f.victory_type));for(const f of c)t[f.seat_position-1]++}return t}}class k{constructor(n,t,s,c,f,l){h(this,"game_id");h(this,"end_turn");h(this,"players");h(this,"components");h(this,"duration");h(this,"location");this.game_id=n,this.end_turn=t,this.players=s,this.components=c,this.duration=f,this.location=l}static getGameByGameId(n){const t=this.getAllGames().find(s=>s.game_id===n);return t||new k(-1,-1,[],[],-1,b.Unknown)}static getGamesByLocation(n){return this.getAllGames().filter(t=>t.location===n)}static getGamesByNumberOfPlayers(n){return this.getAllGames().filter(t=>t.players.length===n)}static getAllGames(){return[new k(0,10,d.getPlayersByGameId(0),x.getComponentsByQuery([],[4,11,15]),8,b.Chicago),new k(1,5,d.getPlayersByGameId(1),x.getComponentsByQuery([2,51],[]),3,b.Chicago),new k(2,8,d.getPlayersByGameId(2),x.getComponentsByQuery([],[13]),9,b.Madison),new k(3,10,d.getPlayersByGameId(3),x.getComponentsByQuery([50],[]),8,b.Madison),new k(4,8,d.getPlayersByGameId(4),x.getComponentsByQuery([20,50],[]),6,b.Remote)]}}class I{constructor(n){h(this,"person");h(this,"loaded");h(this,"data");this.person=n,this.loaded=!1,this.data=new D(r.Unknown,i.Unknown,0,0,i.Unknown,0,i.Unknown,r.Unknown,[])}static getPeople(){const n=[];for(const t of Object.values(i))n.push(new I(t));return n}}class d{constructor(n,t,s,c,f){h(this,"person");h(this,"game_id");h(this,"faction");h(this,"seat_position");h(this,"victory_type");this.game_id=n,this.seat_position=t,this.person=s,this.faction=c,this.victory_type=f}static getPlayersByGameId(n){return this.getAllPlayers().filter(t=>t.game_id===n)}static getPlayersByPersonId(n){return this.getAllPlayers().filter(t=>t.person===n)}static getAllPlayers(){return[new d(0,1,i.ThomasS,r.Moritani,u.Defeat),new d(0,2,i.ChrisS,r.Harkonnen,u.SandTroutSolo),new d(0,3,i.AmandaS,r.Fremen,u.Defeat),new d(0,4,i.TomS,r.Emperor,u.Defeat),new d(0,5,i.AliciaS,r.Atreides,u.Defeat),new d(0,6,i.KenS,r.SpacingGuild,u.Defeat),new d(1,1,i.JackI,r.SpacingGuild,u.Alliance),new d(1,2,i.ZakA,r.Atreides,u.Defeat),new d(1,3,i.TeddyI,r.Fremen,u.Alliance),new d(1,4,i.ZachH,r.BeneGesserit,u.Defeat),new d(1,5,i.LoganR,r.Harkonnen,u.Defeat),new d(2,1,i.ThomasS,r.Richese,u.Defeat),new d(2,2,i.ChrisS,r.BeneGesserit,u.Defeat),new d(2,3,i.NathanW,r.CHOAM,u.Defeat),new d(2,4,i.ElizabethS,r.Emperor,u.SandTroutSolo),new d(2,5,i.MeganW,r.Fremen,u.SandTroutDefeat),new d(2,6,i.AmandaS,r.Harkonnen,u.Defeat),new d(2,7,i.FrScott,r.SpacingGuild,u.Defeat),new d(2,8,i.JoeS,r.Moritani,u.Defeat),new d(3,1,i.ThomasS,r.Atreides,u.Defeat),new d(3,2,i.RyanH,r.Emperor,u.Defeat),new d(3,3,i.ChrisS,r.Harkonnen,u.SpecialSpacingGuild),new d(3,4,i.TheresaB,r.Tleilaxu,u.Defeat),new d(3,5,i.SarahH,r.SpacingGuild,u.SpecialSpacingGuild),new d(3,6,i.TylerM,r.Fremen,u.Defeat),new d(4,1,i.KenS,r.SpacingGuild,u.Defeat),new d(4,3,i.ChrisS,r.BeneGesserit,u.Defeat),new d(4,4,i.JoeS,r.Moritani,u.Alliance),new d(4,5,i.SarahH,r.Emperor,u.Defeat),new d(4,6,i.ThomasS,r.Atreides,u.Alliance)]}}var b=(e=>(e.Lincoln="Lincoln, NE",e.Chicago="Chicago, IL",e.Madison="Madison, WI",e.Remote="Remote",e.Unknown="Unknown",e))(b||{}),i=(e=>(e.AliciaS="Alicia S",e.AmandaS="Amanda S",e.ChrisS="Chris S",e.KenS="Ken S",e.ThomasS="Thomas S",e.TomS="Tom S",e.JackI="Jack i",e.TeddyI="Teddy i",e.ZachH="Zach H",e.ZakA="Zak Ben A",e.LoganR="Logan R",e.NathanW="Nathan W",e.ElizabethS="Elizabeth S",e.MeganW="Megan W",e.FrScott="Father Scott",e.JoeS="Joe S",e.SarahH="Sarah H",e.TylerM="Tyler M",e.RyanH="Ryan H",e.TheresaB="Theresa B",e.Unknown="n/a",e))(i||{}),u=(e=>(e.Alliance="Alliance Victory",e.Betrayed="Betrayed Defeat",e.Betrayal="Betrayal Victory",e.Defeat="Defeat",e.MultiAlliance="Multi Alliance Victory",e.PredictedDefeat="Predicted Defeat",e.SandTroutDefeat="Sand Trout Defeat",e.SandTroutSolo="Sand Trout Solo",e.SpecialBeneGesserit="Bene Gesserit Prediction",e.SpecialFremen="Fremen Special",e.SpecialSpacingGuild="Spacing Guild Special",e.TrueSolo="True Solo",e))(u||{});const A=["Alliance Victory","Betrayal Victory","Multi Alliance Victory","Sand Trout Solo","Bene Gesserit Prediction","Fremen Special","Spacing Guild Special","True Solo"],Y=T({data(){return{factionData:m.getFactions(),allGames:k.getAllGames()}},methods:{loadFactionData(e){const n=this.factionData.findIndex(t=>t.faction===e);n!==-1&&(this.factionData[n].data=D.getFactionStatistics(this.allGames,e),this.factionData[n].loaded=!0)},truncateAverageGameLength(e){return e===0?"n/a":(Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toString()}}}),ee={class:"faction-content"},te={class:"panel-container"},ne={class:"icon-container"},ae=["src"];function se(e,n,t,s,c,f){return w(),U(X,{multiple:""},{default:a(()=>[o(C,null,{default:a(()=>[(w(!0),B(H,null,P(e.factionData,l=>(w(),U(K,{key:l.faction,cols:"6"},{default:a(()=>[o(L,{color:l.color,class:V({"choam-card":l.faction==="CHOAM"})},{default:a(()=>[g("div",ee,[g("div",te,[o(j,{title:l.faction,class:"transparent-panel h2-text",onClick:p=>l.loaded?null:e.loadFactionData(l.faction)},{default:a(()=>[o(q,{class:"panel-text"},{default:a(()=>[o(C,null,{default:a(()=>[o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(Math.round(l.data.usage_rate*100))+"%",1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Usage Rate")]),_:1})]),_:2},1024),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(Math.round(l.data.win_rate*100))+"%",1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Win Rate")]),_:1})]),_:2},1024),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(l.data.champion),1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Champion")]),_:1})]),_:2},1024),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S("Turn: "+e.truncateAverageGameLength(l.data.average_game_length)),1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Average Game Length")]),_:1})]),_:2},1024),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(l.data.adversary),1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Adversary")]),_:1})]),_:2},1024),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(l.data.rival_house),1)]),_:2},1024),o(G,{class:"subtitle-text"},{default:a(()=>[_("Rival House")]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","onClick"])]),g("div",ne,[g("img",{src:l.image_url,class:"faction-icon"},null,8,ae)])])]),_:2},1032,["color","class"])]),_:2},1024))),128))]),_:1})]),_:1})}const re=$(Y,[["render",se],["__scopeId","data-v-22812962"]]),ie=T({data(){return{searchQuery:"",peopleData:I.getPeople(),selectedPerson:new I(i.Unknown),allGames:k.getAllGames()}},mounted(){const e=this.peopleData.findIndex(n=>n.person==="n/a");this.peopleData[e].data=D.getPersonStatistics(this.allGames,this.peopleData[e].person),this.selectedPerson=this.peopleData[e]},computed:{filteredPlayers(){const e=this.peopleData.filter(n=>n.person.toLowerCase().includes(this.searchQuery.toLowerCase()));return e.length<Object.values(i).length?e:[]}},methods:{searchPlayer(e){const n=this.peopleData.find(t=>t.person===e);if(n===void 0){const t=this.peopleData.findIndex(s=>s.person==="n/a");this.selectedPerson=this.peopleData[t]}else{const t=this.peopleData.findIndex(s=>s.person.includes(n.person));t!==-1?this.peopleData[t].loaded?this.selectedPerson===this.peopleData[t]?this.clearSearch():(this.selectedPerson=this.peopleData[t],this.searchQuery=this.peopleData[t].person):(this.peopleData[t].data=D.getPersonStatistics(this.allGames,this.peopleData[t].person),this.peopleData[t].loaded=!0,this.selectedPerson=this.peopleData[t],this.searchQuery=this.peopleData[t].person):this.clearSearch()}},clearSearch(){this.searchQuery="";const e=this.peopleData.findIndex(n=>n.person==="n/a");this.selectedPerson=this.peopleData[e]},truncateAverageGameLength(e){return e===0?"n/a":(Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toString()}}}),oe={class:"search-panel"},le={key:0},ce={key:0},de={key:0},ue={class:"selected-person"};function he(e,n,t,s,c,f){return w(),U(L,{class:"player-card h2-text"},{default:a(()=>[g("div",oe,[N(g("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=l=>e.searchQuery=l),placeholder:"Search player..."},null,512),[[z,e.searchQuery]]),e.selectedPerson?(w(),B("div",le,[e.filteredPlayers.length>0?(w(),B("div",ce,[o(C,null,{default:a(()=>[(w(!0),B(H,null,P(e.filteredPlayers,l=>(w(),U(L,{class:"filtered-person h2-text",key:l.person,onClick:p=>e.searchPlayer(l.person)},{default:a(()=>[e.selectedPerson.person!=="n/a"&&e.searchQuery!==""?(w(),B("button",de," X ")):M("",!0),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[_(S(l.person),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})])):M("",!0)])):M("",!0)]),g("div",ue,[o(C,null,{default:a(()=>[o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(e.selectedPerson.data.usage_rate),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Number of Games")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(w(),U(v,{key:0},{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(Math.round(e.selectedPerson.data.win_rate*100))+"%",1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Win Rate")]),_:1})]),_:1})):M("",!0),o(v,null,{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(e.selectedPerson.data.champion),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Best Faction")]),_:1})]),_:1}),o(v,null,{default:a(()=>[o(y,{class:"truncate-decimal"},{default:a(()=>[g("div",null,S("Turn: "+e.truncateAverageGameLength(e.selectedPerson.data.average_game_length)),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Average Game Length")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(w(),U(v,{key:1},{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(e.selectedPerson.data.adversary),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Adversary")]),_:1})]),_:1})):M("",!0),e.selectedPerson.person!=="n/a"?(w(),U(v,{key:2},{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(e.selectedPerson.data.rival_house),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Rival House")]),_:1})]),_:1})):M("",!0),e.selectedPerson.person==="n/a"?(w(),U(v,{key:3},{default:a(()=>[o(y,null,{default:a(()=>[g("div",null,S(e.selectedPerson.data.seat_rates),1)]),_:1}),o(G,{class:"subtitle-text"},{default:a(()=>[_("Seat Win Rate")]),_:1})]),_:1})):M("",!0)]),_:1})])]),_:1})}const fe=$(ie,[["render",he],["__scopeId","data-v-0890b772"]]),pe=T({components:{FactionStatistics:re,SearchPanel:fe}}),O=e=>(J("data-v-014fcabe"),e=e(),Z(),e),ge={class:"default-page"},me={class:"dune-box"},we=O(()=>g("h2",{class:"h2-text"}," Player Standings ",-1)),Se=O(()=>g("h2",{class:"h2-text"}," House Standings ",-1));function _e(e,n,t,s,c,f){const l=F("SearchPanel"),p=F("FactionStatistics");return w(),B("div",ge,[g("div",me,[o(C,{class:"centered-row"},{default:a(()=>[we,o(l),Se,o(p)]),_:1})])])}const Ue=$(pe,[["render",_e],["__scopeId","data-v-014fcabe"]]);export{Ue as default};
