var Q=Object.defineProperty;var W=(e,n,t)=>n in e?Q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var f=(e,n,t)=>(W(e,typeof n!="symbol"?n+"":n,t),t);import{F as a}from"./Factions-819d9094.js";import{D as B}from"./Expansions-74147265.js";import{d as F,_ as L,o as m,c as M,w as s,a as l,b as x,F as H,r as O,n as N,e as g,t as w,f as S,g as V,v as J,h as b,i as $,p as K,j as z}from"./index-54b8ed82.js";import{V as C,a as Z,b as j,c as X,d as _,e as v,f as G,g as q}from"./VListItem-40fb1b5f.js";import{V as T}from"./VCard-b0911d2a.js";class y{constructor(n,t,o){f(this,"faction");f(this,"loaded");f(this,"color");f(this,"image_url");f(this,"data");this.faction=n,this.loaded=!1,this.color=t,this.image_url=o,this.data=new A(n,i.Unknown,0,0,i.Unknown,0,i.Unknown,a.Unknown,[])}static getFactions(){return[new y(a.Atreides,"rgba( 0, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Atreides-559fab5c.png",self.location).href),new y(a.BeneGesserit,"rgba( 0, 0, 255, 0.05 )",new URL("/GameOfGames/assets/BeneGesserit-a70f6147.png",self.location).href),new y(a.Emperor,"rgba( 255, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Emperor-e85c38c2.png",self.location).href),new y(a.Fremen,"rgba( 255, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Fremen-bedc8e68.png",self.location).href),new y(a.Harkonnen,"rgba( 0, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Harkonnen-8980669d.png",self.location).href),new y(a.SpacingGuild,"rgba( 255, 110, 0, 0.05 )",new URL("/GameOfGames/assets/SpacingGuild-1948f1ca.png",self.location).href),new y(a.Ixians,"rgba( 200, 190, 120, 0.05 )",new URL("/GameOfGames/assets/Ixians-fd33647c.png",self.location).href),new y(a.Tleilaxu,"rgba( 130, 0, 200, 0.05 )",new URL("/GameOfGames/assets/Tleilaxu-b169d45b.png",self.location).href),new y(a.CHOAM,"rgba( 0, 0, 0, 0 )",new URL("/GameOfGames/assets/CHOAM-38777541.png",self.location).href),new y(a.Richese,"rgba( 255, 255, 255, 0.05 )",new URL("/GameOfGames/assets/Richese-8e49c515.png",self.location).href),new y(a.Ecaz,"rgba( 200, 0, 130, 0.05 )",new URL("/GameOfGames/assets/Ecaz-9fa8b699.png",self.location).href),new y(a.Moritani,"rgba( 0, 180, 255, 0.05 )",new URL("/GameOfGames/assets/Moritani-97fc141c.png",self.location).href)]}}class A{constructor(n,t,o,d,h,r,p,I,E){f(this,"faction");f(this,"person");f(this,"usage_rate");f(this,"win_rate");f(this,"champion");f(this,"average_game_length");f(this,"adversary");f(this,"rival_house");f(this,"seat_rates");this.faction=n,this.person=t,this.usage_rate=o,this.win_rate=d,this.champion=h,this.average_game_length=r,this.adversary=p,this.rival_house=I,this.seat_rates=E}static getFactionStatistics(n,t){const o=n.filter(r=>r.players.find(p=>p.faction===t)),d=this.getFactionWins(o,t),h=this.getFactionDefeats(o,t);return new A(t,i.Unknown,(o.length||0)/(n.length||1),(d.length||0)/(o.length||1),this.getMaxPerson(d,t),(o.reduce((r,p)=>r+p.end_turn,0)||0)/(o.length||1),this.getMaxPerson(h,t),this.getMaxFaction(h,i.Unknown),[])}static getPersonStatistics(n,t){if(t===i.Unknown)return this.getUnknownPersonStatistics(n);const o=n.filter(r=>r.players.find(p=>p.person===t)),d=this.getPersonWins(o,t),h=this.getPersonDefeats(o,t);return new A(a.Unknown,t,o.length,(d.length||0)/(o.length||1),this.getMaxFaction(d,t),(o.reduce((r,p)=>r+p.end_turn,0)||0)/(o.length||1),this.getMaxPerson(h,a.Unknown),this.getMaxFaction(h,i.Unknown),[])}static getUnknownPersonStatistics(n){return new A(a.Unknown,this.getMaxPerson(n,a.Unknown),n.length,0,this.getMaxFaction(n,i.Unknown),(n.reduce((t,o)=>t+o.end_turn,0)||0)/(n.length||1),i.Unknown,a.Unknown,this.getSeatRates(n))}static getFactionWins(n,t){return n.filter(o=>o.players.find(d=>D.includes(d.victory_type)&&d.faction===t))}static getFactionDefeats(n,t){return n.filter(o=>o.players.find(d=>!D.includes(d.victory_type)&&d.faction===t))}static getMaxPerson(n,t){const o=[{person:i.Unknown,victories:0}];for(const d of n){const h=t===a.Unknown?d.players.filter(r=>D.includes(r.victory_type)):d.players.filter(r=>D.includes(r.victory_type)&&r.faction===t);for(const r of h){const p=o.find(I=>I.person===r.person);p?p.victories++:o.push({person:r.person,victories:1})}}return o.reduce((d,h)=>h.victories>d.victories?h:d).person}static getMaxFaction(n,t){const o=[{faction:a.Unknown,victories:0}];let d=o.find(r=>r.faction===a.Unknown),h=[];for(const r of n){t===i.Unknown?h=r.players.filter(p=>D.includes(p.victory_type)):h=r.players.filter(p=>D.includes(p.victory_type)&&p.person===t);for(const p of h)d=o.find(I=>I.faction===p.faction),d?d.victories++:o.push({faction:p.faction,victories:1})}return o.reduce((r,p)=>p.victories>r.victories?p:r).faction}static getPersonWins(n,t){return n.filter(o=>o.players.find(d=>D.includes(d.victory_type)&&d.person===t))}static getPersonDefeats(n,t){return n.filter(o=>o.players.find(d=>!D.includes(d.victory_type)&&d.person===t))}static getSeatRates(n){const t=[0,0,0,0,0,0];for(const o of n){const d=o.players.filter(h=>D.includes(h.victory_type));for(const h of d)t[h.seat_position-1]++}return t}}class k{constructor(n,t,o,d,h,r){f(this,"game_id");f(this,"end_turn");f(this,"players");f(this,"components");f(this,"duration");f(this,"location");this.game_id=n,this.end_turn=t,this.players=o,this.components=d,this.duration=h,this.location=r}static getGameByGameId(n){const t=this.getAllGames().find(o=>o.game_id===n);return t||new k(-1,-1,[],[],-1,U.Unknown)}static getGamesByLocation(n){return this.getAllGames().filter(t=>t.location===n)}static getGamesByNumberOfPlayers(n){return this.getAllGames().filter(t=>t.players.length===n)}static getAllGames(){return[new k(0,10,c.getPlayersByGameId(0),B.getComponentsByQuery([],[4,11,15]),8,U.Chicago),new k(1,5,c.getPlayersByGameId(1),B.getComponentsByQuery([2,51],[]),3,U.Chicago),new k(2,8,c.getPlayersByGameId(2),B.getComponentsByQuery([],[13]),9,U.Madison),new k(3,10,c.getPlayersByGameId(3),B.getComponentsByQuery([50],[]),8,U.Madison),new k(4,8,c.getPlayersByGameId(4),B.getComponentsByQuery([20,50],[]),6,U.Remote),new k(5,10,c.getPlayersByGameId(5),B.getComponentsByQuery([20],[]),10,U.Madison)]}}class R{constructor(n){f(this,"person");f(this,"loaded");f(this,"data");this.person=n,this.loaded=!1,this.data=new A(a.Unknown,i.Unknown,0,0,i.Unknown,0,i.Unknown,a.Unknown,[])}static getPeople(){const n=[];for(const t of Object.values(i))n.push(new R(t));return n}}class c{constructor(n,t,o,d,h){f(this,"person");f(this,"game_id");f(this,"faction");f(this,"seat_position");f(this,"victory_type");this.game_id=n,this.seat_position=t,this.person=o,this.faction=d,this.victory_type=h}static getPlayersByGameId(n){return this.getAllPlayers().filter(t=>t.game_id===n)}static getPlayersByPersonId(n){return this.getAllPlayers().filter(t=>t.person===n)}static getAllPlayers(){return[new c(0,1,i.ThomasS,a.Moritani,u.Defeat),new c(0,2,i.ChrisS,a.Harkonnen,u.SandTroutSolo),new c(0,3,i.AmandaS,a.Fremen,u.Defeat),new c(0,4,i.TomS,a.Emperor,u.Defeat),new c(0,5,i.AliciaS,a.Atreides,u.Defeat),new c(0,6,i.KenS,a.SpacingGuild,u.Defeat),new c(1,1,i.JackI,a.SpacingGuild,u.Alliance),new c(1,2,i.ZakA,a.Atreides,u.Defeat),new c(1,3,i.TeddyI,a.Fremen,u.Alliance),new c(1,4,i.ZachH,a.BeneGesserit,u.Defeat),new c(1,5,i.LoganR,a.Harkonnen,u.Defeat),new c(2,1,i.ThomasS,a.Richese,u.Defeat),new c(2,2,i.ChrisS,a.BeneGesserit,u.Defeat),new c(2,3,i.NathanW,a.CHOAM,u.Defeat),new c(2,4,i.ElizabethS,a.Emperor,u.SandTroutSolo),new c(2,5,i.MeganW,a.Fremen,u.SandTroutDefeat),new c(2,6,i.AmandaS,a.Harkonnen,u.Defeat),new c(2,7,i.FrScott,a.SpacingGuild,u.Defeat),new c(2,8,i.JoeS,a.Moritani,u.Defeat),new c(3,1,i.ThomasS,a.Atreides,u.Defeat),new c(3,2,i.RyanH,a.Emperor,u.Defeat),new c(3,3,i.ChrisS,a.Harkonnen,u.SpecialSpacingGuild),new c(3,4,i.TheresaB,a.Tleilaxu,u.Defeat),new c(3,5,i.SarahH,a.SpacingGuild,u.SpecialSpacingGuild),new c(3,6,i.TylerM,a.Fremen,u.Defeat),new c(4,1,i.KenS,a.SpacingGuild,u.Defeat),new c(4,3,i.ChrisS,a.BeneGesserit,u.Defeat),new c(4,4,i.JoeS,a.Moritani,u.Alliance),new c(4,5,i.SarahH,a.Emperor,u.Defeat),new c(4,6,i.ThomasS,a.Atreides,u.Alliance),new c(5,1,i.ThomasS,a.Moritani,u.Defeat),new c(5,2,i.MatthewN,a.Fremen,u.Alliance),new c(5,3,i.TheresaB,a.Tleilaxu,u.Defeat),new c(5,4,i.TylerM,a.BeneGesserit,u.Alliance),new c(5,5,i.KeatonG,a.Harkonnen,u.Defeat),new c(5,6,i.RyanH,a.Emperor,u.Defeat)]}}var U=(e=>(e.Lincoln="Lincoln, NE",e.Chicago="Chicago, IL",e.Madison="Madison, WI",e.Remote="Remote",e.Unknown="Unknown",e))(U||{}),i=(e=>(e.AliciaS="Alicia S",e.AmandaS="Amanda S",e.ChrisS="Chris S",e.KenS="Ken S",e.ThomasS="Thomas S",e.TomS="Tom S",e.JackI="Jack i",e.TeddyI="Teddy i",e.ZachH="Zach H",e.ZakA="Zak Ben A",e.LoganR="Logan R",e.NathanW="Nathan W",e.ElizabethS="Elizabeth S",e.MeganW="Megan W",e.FrScott="Father Scott",e.JoeS="Joe S",e.SarahH="Sarah H",e.TylerM="Tyler M",e.RyanH="Ryan H",e.TheresaB="Theresa B",e.KeatonG="Keaton G",e.MatthewN="Matthew N",e.Unknown="n/a",e))(i||{}),u=(e=>(e.Alliance="Alliance Victory",e.Betrayed="Betrayed Defeat",e.Betrayal="Betrayal Victory",e.Defeat="Defeat",e.MultiAlliance="Multi Alliance Victory",e.PredictedDefeat="Predicted Defeat",e.SandTroutDefeat="Sand Trout Defeat",e.SandTroutSolo="Sand Trout Solo",e.SpecialBeneGesserit="Bene Gesserit Prediction",e.SpecialFremen="Fremen Special",e.SpecialSpacingGuild="Spacing Guild Special",e.TrueSolo="True Solo",e))(u||{});const D=["Alliance Victory","Betrayal Victory","Multi Alliance Victory","Sand Trout Solo","Bene Gesserit Prediction","Fremen Special","Spacing Guild Special","True Solo"],Y=F({data(){return{factionData:y.getFactions(),allGames:k.getAllGames()}},methods:{loadFactionData(e){const n=this.factionData.findIndex(t=>t.faction===e);n!==-1&&(this.factionData[n].data=A.getFactionStatistics(this.allGames,e),this.factionData[n].loaded=!0)},truncateAverageGameLength(e){return e===0?"n/a":(Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toString()}}});const ee={class:"faction-content"},te={class:"panel-container"},ne={class:"icon-container"},ae=["src"];function se(e,n,t,o,d,h){return m(),M(q,{multiple:""},{default:s(()=>[l(C,null,{default:s(()=>[(m(!0),x(H,null,O(e.factionData,r=>(m(),M(Z,{key:r.faction,cols:"6"},{default:s(()=>[l(T,{color:r.color,class:N({"choam-card":r.faction==="CHOAM"})},{default:s(()=>[g("div",ee,[g("div",te,[l(j,{title:r.faction,class:"transparent-panel h2-text",onClick:p=>r.loaded?null:e.loadFactionData(r.faction)},{default:s(()=>[l(X,{class:"panel-text"},{default:s(()=>[l(C,null,{default:s(()=>[l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(Math.round(r.data.usage_rate*100))+"%",1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Usage Rate")]),_:1})]),_:2},1024),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(Math.round(r.data.win_rate*100))+"%",1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Win Rate")]),_:1})]),_:2},1024),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(r.data.champion),1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Champion")]),_:1})]),_:2},1024),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w("Turn: "+e.truncateAverageGameLength(r.data.average_game_length)),1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Average Game Length")]),_:1})]),_:2},1024),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(r.data.adversary),1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Adversary")]),_:1})]),_:2},1024),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(r.data.rival_house),1)]),_:2},1024),l(G,{class:"subtitle-text"},{default:s(()=>[S("Rival House")]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","onClick"])]),g("div",ne,[g("img",{src:r.image_url,class:"faction-icon"},null,8,ae)])])]),_:2},1032,["color","class"])]),_:2},1024))),128))]),_:1})]),_:1})}const ie=L(Y,[["render",se],["__scopeId","data-v-22812962"]]),oe=F({data(){return{searchQuery:"",peopleData:R.getPeople(),selectedPerson:new R(i.Unknown),allGames:k.getAllGames()}},mounted(){const e=this.peopleData.findIndex(n=>n.person==="n/a");this.peopleData[e].data=A.getPersonStatistics(this.allGames,this.peopleData[e].person),this.selectedPerson=this.peopleData[e]},computed:{filteredPlayers(){const e=this.peopleData.filter(n=>n.person.toLowerCase().includes(this.searchQuery.toLowerCase()));return e.length<Object.values(i).length?e:[]}},methods:{searchPlayer(e){const n=this.peopleData.find(t=>t.person===e);if(n===void 0){const t=this.peopleData.findIndex(o=>o.person==="n/a");this.selectedPerson=this.peopleData[t]}else{const t=this.peopleData.findIndex(o=>o.person.includes(n.person));t!==-1?this.peopleData[t].loaded?this.selectedPerson===this.peopleData[t]?this.clearSearch():(this.selectedPerson=this.peopleData[t],this.searchQuery=this.peopleData[t].person):(this.peopleData[t].data=A.getPersonStatistics(this.allGames,this.peopleData[t].person),this.peopleData[t].loaded=!0,this.selectedPerson=this.peopleData[t],this.searchQuery=this.peopleData[t].person):this.clearSearch()}},clearSearch(){this.searchQuery="";const e=this.peopleData.findIndex(n=>n.person==="n/a");this.selectedPerson=this.peopleData[e]},truncateAverageGameLength(e){return e===0?"n/a":(Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toString()}}});const re={class:"search-panel"},le={key:0},ce={key:0},de={key:0},ue={class:"selected-person"};function fe(e,n,t,o,d,h){return m(),M(T,{class:"player-card h2-text"},{default:s(()=>[g("div",re,[V(g("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=r=>e.searchQuery=r),placeholder:"Search player..."},null,512),[[J,e.searchQuery]]),e.selectedPerson?(m(),x("div",le,[e.filteredPlayers.length>0?(m(),x("div",ce,[l(C,null,{default:s(()=>[(m(!0),x(H,null,O(e.filteredPlayers,r=>(m(),M(T,{class:"filtered-person h2-text",key:r.person,onClick:p=>e.searchPlayer(r.person)},{default:s(()=>[e.selectedPerson.person!=="n/a"&&e.searchQuery!==""?(m(),x("button",de," X ")):b("",!0),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[S(w(r.person),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})])):b("",!0)])):b("",!0)]),g("div",ue,[l(C,null,{default:s(()=>[l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.usage_rate),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Number of Games")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(m(),M(_,{key:0},{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(Math.round(e.selectedPerson.data.win_rate*100))+"%",1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Win Rate")]),_:1})]),_:1})):b("",!0),l(_,null,{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.champion),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Best Faction")]),_:1})]),_:1}),e.selectedPerson.person==="n/a"?(m(),M(_,{key:1},{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.person),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Best Player")]),_:1})]),_:1})):b("",!0),l(_,null,{default:s(()=>[l(v,{class:"truncate-decimal"},{default:s(()=>[g("div",null,w("Turn: "+e.truncateAverageGameLength(e.selectedPerson.data.average_game_length)),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Average Game Length")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(m(),M(_,{key:2},{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.adversary),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Adversary")]),_:1})]),_:1})):b("",!0),e.selectedPerson.person!=="n/a"?(m(),M(_,{key:3},{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.rival_house),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Rival House")]),_:1})]),_:1})):b("",!0),e.selectedPerson.person==="n/a"?(m(),M(_,{key:4},{default:s(()=>[l(v,null,{default:s(()=>[g("div",null,w(e.selectedPerson.data.seat_rates),1)]),_:1}),l(G,{class:"subtitle-text"},{default:s(()=>[S("Seat Win Rate")]),_:1})]),_:1})):b("",!0)]),_:1})])]),_:1})}const he=L(oe,[["render",fe],["__scopeId","data-v-a7e6a474"]]),pe=F({components:{FactionStatistics:ie,SearchPanel:he}});const P=e=>(K("data-v-014fcabe"),e=e(),z(),e),ge={class:"default-page"},me={class:"dune-box"},we=P(()=>g("h2",{class:"h2-text"}," Player Standings ",-1)),Se=P(()=>g("h2",{class:"h2-text"}," House Standings ",-1));function _e(e,n,t,o,d,h){const r=$("SearchPanel"),p=$("FactionStatistics");return m(),x("div",ge,[g("div",me,[l(C,{class:"centered-row"},{default:s(()=>[we,l(r),Se,l(p)]),_:1})])])}const Ae=L(pe,[["render",_e],["__scopeId","data-v-014fcabe"]]);export{Ae as default};
