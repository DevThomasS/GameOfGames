var Q=Object.defineProperty;var V=(e,t,a)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var u=(e,t,a)=>(V(e,typeof t!="symbol"?t+"":t,a),a);import{F as d}from"./Factions-l7XeaCox.js";import{D as R}from"./Expansions--iCfqnIQ.js";import{d as L,_ as F,o as _,c as A,w as n,F as B,n as T,t as w,a as h,b as r,e as v,r as O,f as U,v as W,g as z,h as P,i as $,p as N,j as Z}from"./index-hTMvIzZs.js";import{V as x,a as K,b as j,c as q,d as S,e as y,f as G,g as J}from"./VListItem-HSWJSB9K.js";import{V as C}from"./VCard-svG0f0Cu.js";class g{constructor(t,a,s){u(this,"faction");u(this,"loaded");u(this,"color");u(this,"image_url");u(this,"data");this.faction=t,this.loaded=!1,this.color=a,this.image_url=s,this.data=new k(t,p.Unknown,0,0,p.Unknown,0,p.Unknown,d.Unknown,[])}static getFactions(){return[new g(d.Atreides,"rgba( 0, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Atreides-3P-dQzR_.png",import.meta.url).href),new g(d.BeneGesserit,"rgba( 0, 0, 255, 0.05 )",new URL("/GameOfGames/assets/BeneGesserit-03LS4aoO.png",import.meta.url).href),new g(d.Emperor,"rgba( 255, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Emperor-WohKIglq.png",import.meta.url).href),new g(d.Fremen,"rgba( 255, 255, 0, 0.05 )",new URL("/GameOfGames/assets/Fremen-nA5vhvC8.png",import.meta.url).href),new g(d.Harkonnen,"rgba( 0, 0, 0, 0.05 )",new URL("/GameOfGames/assets/Harkonnen-U4LPhx-O.png",import.meta.url).href),new g(d.SpacingGuild,"rgba( 255, 110, 0, 0.05 )",new URL("/GameOfGames/assets/SpacingGuild-IL1zvpbT.png",import.meta.url).href),new g(d.Ixians,"rgba( 200, 190, 120, 0.05 )",new URL("/GameOfGames/assets/Ixians-eYszch7k.png",import.meta.url).href),new g(d.Tleilaxu,"rgba( 130, 0, 200, 0.05 )",new URL("/GameOfGames/assets/Tleilaxu-7vmw99ka.png",import.meta.url).href),new g(d.CHOAM,"rgba( 0, 0, 0, 0 )",new URL("/GameOfGames/assets/CHOAM-VtU5ofUh.png",import.meta.url).href),new g(d.Richese,"rgba( 255, 255, 255, 0.05 )",new URL("/GameOfGames/assets/Richese-LaG0PqEf.png",import.meta.url).href),new g(d.Ecaz,"rgba( 200, 0, 130, 0.05 )",new URL("/GameOfGames/assets/Ecaz-F7pBt7gC.png",import.meta.url).href),new g(d.Moritani,"rgba( 0, 180, 255, 0.05 )",new URL("/GameOfGames/assets/Moritani-pC17q5-D.png",import.meta.url).href)]}}class k{constructor(t,a,s,c,o,l,f,b,H){u(this,"faction");u(this,"person");u(this,"usage_rate");u(this,"win_rate");u(this,"champion");u(this,"average_game_length");u(this,"adversary");u(this,"rival_house");u(this,"seat_rates");this.faction=t,this.person=a,this.usage_rate=s,this.win_rate=c,this.champion=o,this.average_game_length=l,this.adversary=f,this.rival_house=b,this.seat_rates=H}static getFactionStatistics(t,a){const s=t.filter(l=>l.players.find(f=>f.faction===a)),c=this.getFactionWins(s,a),o=this.getFactionDefeats(s,a);return new k(a,p.Unknown,(s.length||0)/(t.length||1),(c.length||0)/(s.length||1),this.getMaxPerson(c),(s.reduce((l,f)=>l+f.end_turn,0)||0)/(s.length||1),this.getMaxPerson(o),this.getMaxFaction(o),[])}static getPersonStatistics(t,a){if(a===p.Unknown)return this.getUnknownPersonStatistics(t);const s=t.filter(l=>l.players.find(f=>f.person===a)),c=this.getPersonWins(s,a),o=this.getPersonDefeats(s,a);return new k(d.Unknown,a,s.length,(c.length||0)/(s.length||1),this.getMaxFaction(c),(s.reduce((l,f)=>l+f.end_turn,0)||0)/(s.length||1),this.getMaxPerson(o),this.getMaxFaction(o),[])}static getUnknownPersonStatistics(t){return new k(d.Unknown,p.Unknown,t.length,0,this.getMaxFaction(t),(t.reduce((a,s)=>a+s.end_turn,0)||0)/(t.length||1),p.Unknown,d.Unknown,this.getSeatRates(t))}static getFactionWins(t,a){const s=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild];return t.filter(c=>c.players.find(o=>s.includes(o.victory_type)&&o.faction===a))}static getFactionDefeats(t,a){const s=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild];return t.filter(c=>c.players.find(o=>!s.includes(o.victory_type)&&o.faction===a))}static getMaxPerson(t){const a=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild],s=[{person:p.Unknown,victories:0}];for(const c of t){const o=c.players.filter(l=>a.includes(l.victory_type));for(const l of o){const f=s.find(b=>b.person===l.person);f?f.victories++:s.push({person:l.person,victories:1})}}return s.reduce((c,o)=>o.victories>c.victories?o:c).person}static getMaxFaction(t){const a=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild],s=[{faction:d.Unknown,victories:0}];for(const c of t){const o=c.players.filter(l=>a.includes(l.victory_type));for(const l of o){const f=s.find(b=>b.faction===l.faction);f?f.victories++:s.push({faction:l.faction,victories:1})}}return s.reduce((c,o)=>o.victories>c.victories?o:c).faction}static getPersonWins(t,a){const s=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild];return t.filter(c=>c.players.find(o=>s.includes(o.victory_type)&&o.person===a))}static getPersonDefeats(t,a){const s=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild];return t.filter(c=>c.players.find(o=>!s.includes(o.victory_type)&&o.person===a))}static getSeatRates(t){const a=[i.Alliance,i.MultiAlliance,i.Solo,i.SpecialFremen,i.SpecialSpacingGuild],s=[0,0,0,0,0,0];for(const c of t){const o=c.players.filter(l=>a.includes(l.victory_type));for(const l of o)s[l.seat_position-1]++}return s}}class D{constructor(t,a,s,c,o,l){u(this,"game_id");u(this,"end_turn");u(this,"players");u(this,"components");u(this,"duration");u(this,"location");this.game_id=t,this.end_turn=a,this.players=s,this.components=c,this.duration=o,this.location=l}static getGameByGameId(t){const a=this.getAllGames().find(s=>s.game_id===t);return a||new D(-1,-1,[],[],-1,I.Unknown)}static getGamesByLocation(t){return this.getAllGames().filter(a=>a.location===t)}static getGamesByNumberOfPlayers(t){return this.getAllGames().filter(a=>a.players.length===t)}static getAllGames(){return[new D(0,10,m.getPlayersByGameId(0),R.getComponentsByQuery([],[4,11,15]),8,I.Chicago),new D(1,5,m.getPlayersByGameId(1),R.getComponentsByQuery([2,51],[]),3,I.Chicago)]}}class M{constructor(t){u(this,"person");u(this,"loaded");u(this,"data");this.person=t,this.loaded=!1,this.data=new k(d.Unknown,p.Unknown,0,0,p.Unknown,0,p.Unknown,d.Unknown,[])}static getPeople(){const t=[];for(const a of Object.values(p))t.push(new M(a));return t}}class m{constructor(t,a,s,c,o){u(this,"person");u(this,"game_id");u(this,"faction");u(this,"seat_position");u(this,"victory_type");this.game_id=t,this.seat_position=a,this.person=s,this.faction=c,this.victory_type=o}static getPlayersByGameId(t){return this.getAllPlayers().filter(a=>a.game_id===t)}static getPlayersByPersonId(t){return this.getAllPlayers().filter(a=>a.person===t)}static getAllPlayers(){return[new m(0,1,p.ThomasS,d.Moritani,i.Defeat),new m(0,2,p.ChrisS,d.Harkonnen,i.Solo),new m(0,3,p.AmandaS,d.Fremen,i.Defeat),new m(0,4,p.TomS,d.Emperor,i.Defeat),new m(0,5,p.AliciaS,d.Atreides,i.Defeat),new m(0,6,p.KenS,d.SpacingGuild,i.Defeat),new m(1,1,p.JackI,d.SpacingGuild,i.Alliance),new m(1,2,p.Zak,d.Atreides,i.Defeat),new m(1,3,p.Teddy,d.Fremen,i.Alliance),new m(1,4,p.Zach,d.BeneGesserit,i.Defeat),new m(1,5,p.Logan,d.Harkonnen,i.Defeat)]}}var I=(e=>(e.Lincoln="Lincoln, NE",e.Chicago="Chicago, IL",e.Madison="Madison, WI",e.Unknown="Unknown",e))(I||{}),p=(e=>(e.AliciaS="Alicia S",e.AmandaS="Amanda S",e.ChrisS="Chris S",e.KenS="Ken S",e.ThomasS="Thomas S",e.TomS="Tom S",e.JackI="Jack i",e.Teddy="Teddy i",e.Zach="Zach H",e.Zak="Zak Ben A",e.Logan="Logan R",e.Unknown="n/a",e))(p||{}),i=(e=>(e.Alliance="Alliance",e.BetrayedDefeat="Betrayed Defeat",e.BetrayalVictory="Betrayal Victory",e.Defeat="Defeat",e.MultiAlliance="MultiAlliance",e.PredictedDefeat="Predicted Defeat",e.Solo="Solo",e.SpecialBeneGesserit="Special Bene Gesserit",e.SpecialFremen="Special Fremen",e.SpecialSpacingGuild="Special Spacing Guild",e))(i||{});const X=L({data(){return{factionData:g.getFactions(),allGames:D.getAllGames()}},methods:{loadFactionData(e){const t=this.factionData.findIndex(a=>a.faction===e);t!==-1&&(this.factionData[t].data=k.getFactionStatistics(this.allGames,e),this.factionData[t].loaded=!0)}}}),Y={class:"faction-content"},ee={class:"panel-container"},te={class:"icon-container"},ae=["src"];function ne(e,t,a,s,c,o){return _(),A(J,{multiple:""},{default:n(()=>[r(x,null,{default:n(()=>[(_(!0),U(B,null,O(e.factionData,l=>(_(),A(K,{key:l.faction,cols:"6"},{default:n(()=>[r(C,{color:l.color,class:T({"choam-card":l.faction==="CHOAM"})},{default:n(()=>[h("div",Y,[h("div",ee,[r(j,{title:l.faction,class:"transparent-panel h2-text",onClick:f=>l.loaded?null:e.loadFactionData(l.faction)},{default:n(()=>[r(q,{class:"panel-text"},{default:n(()=>[r(x,null,{default:n(()=>[r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(Math.round(l.data.usage_rate*100))+"%",1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Usage Rate")]),_:1})]),_:2},1024),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(Math.round(l.data.win_rate*100))+"%",1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Win Rate")]),_:1})]),_:2},1024),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(l.data.champion),1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Champion")]),_:1})]),_:2},1024),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(l.data.average_game_length!==0?"Turn "+l.data.average_game_length:"n/a"),1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Average Game Length")]),_:1})]),_:2},1024),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(l.data.adversary),1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Adversary")]),_:1})]),_:2},1024),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(l.data.rival_house),1)]),_:2},1024),r(G,{class:"subtitle-text"},{default:n(()=>[v("Rival House")]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","onClick"])]),h("div",te,[h("img",{src:l.image_url,class:"faction-icon"},null,8,ae)])])]),_:2},1032,["color","class"])]),_:2},1024))),128))]),_:1})]),_:1})}const se=F(X,[["render",ne],["__scopeId","data-v-11068212"]]),le=L({data(){return{searchQuery:"",peopleData:M.getPeople(),selectedPerson:new M(p.Unknown),allGames:D.getAllGames()}},mounted(){const e=this.peopleData.findIndex(t=>t.person==="n/a");this.peopleData[e].data=k.getPersonStatistics(this.allGames,this.peopleData[e].person),this.selectedPerson=this.peopleData[e]},computed:{filteredPlayers(){const e=this.peopleData.filter(t=>t.person.toLowerCase().includes(this.searchQuery.toLowerCase()));return e.length<Object.values(p).length?e:[]}},methods:{searchPlayer(e){const t=this.peopleData.find(a=>a.person===e);if(t===void 0){const a=this.peopleData.findIndex(s=>s.person==="n/a");this.selectedPerson=this.peopleData[a]}else{const a=this.peopleData.findIndex(s=>s.person.includes(t.person));a!==-1?this.peopleData[a].loaded?this.selectedPerson===this.peopleData[a]?this.clearSearch():(this.selectedPerson=this.peopleData[a],this.searchQuery=this.peopleData[a].person):(this.peopleData[a].data=k.getPersonStatistics(this.allGames,this.peopleData[a].person),this.peopleData[a].loaded=!0,this.selectedPerson=this.peopleData[a],this.searchQuery=this.peopleData[a].person):this.clearSearch()}},clearSearch(){this.searchQuery="";const e=this.peopleData.findIndex(t=>t.person==="n/a");this.selectedPerson=this.peopleData[e]}}}),ie={class:"search-panel"},re={key:0},oe={key:0},ce={key:0},de={class:"selected-person"};function ue(e,t,a,s,c,o){return _(),A(C,{class:"player-card h2-text"},{default:n(()=>[h("div",ie,[z(h("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>e.searchQuery=l),placeholder:"Search player..."},null,512),[[W,e.searchQuery]]),e.selectedPerson?(_(),U("div",re,[e.filteredPlayers.length>0?(_(),U("div",oe,[r(x,null,{default:n(()=>[(_(!0),U(B,null,O(e.filteredPlayers,l=>(_(),A(C,{class:"filtered-person h2-text",key:l.person,onClick:f=>e.searchPlayer(l.person)},{default:n(()=>[e.selectedPerson.person!=="n/a"&&e.searchQuery!==""?(_(),U("button",ce," X ")):P("",!0),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[v(w(l.person),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})])):P("",!0)])):P("",!0)]),h("div",de,[r(x,null,{default:n(()=>[r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.usage_rate),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Number of Games")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(_(),A(S,{key:0},{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(Math.round(e.selectedPerson.data.win_rate*100))+"%",1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Win Rate")]),_:1})]),_:1})):P("",!0),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.champion),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Best Faction")]),_:1})]),_:1}),r(S,null,{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.average_game_length!==0?"Turn "+e.selectedPerson.data.average_game_length:"n/a"),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Average Game Length")]),_:1})]),_:1}),e.selectedPerson.person!=="n/a"?(_(),A(S,{key:1},{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.adversary),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Adversary")]),_:1})]),_:1})):P("",!0),e.selectedPerson.person!=="n/a"?(_(),A(S,{key:2},{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.rival_house),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Rival House")]),_:1})]),_:1})):P("",!0),e.selectedPerson.person==="n/a"?(_(),A(S,{key:3},{default:n(()=>[r(y,null,{default:n(()=>[h("div",null,w(e.selectedPerson.data.seat_rates),1)]),_:1}),r(G,{class:"subtitle-text"},{default:n(()=>[v("Seat Win Rate")]),_:1})]),_:1})):P("",!0)]),_:1})])]),_:1})}const pe=F(le,[["render",ue],["__scopeId","data-v-e31a558f"]]),he=L({components:{FactionStatistics:se,SearchPanel:pe}}),E=e=>(N("data-v-014fcabe"),e=e(),Z(),e),fe={class:"default-page"},ge={class:"dune-box"},me=E(()=>h("h2",{class:"h2-text"}," Player Standings ",-1)),_e=E(()=>h("h2",{class:"h2-text"}," House Standings ",-1));function we(e,t,a,s,c,o){const l=$("SearchPanel"),f=$("FactionStatistics");return _(),U("div",fe,[h("div",ge,[r(x,{class:"centered-row"},{default:n(()=>[me,r(l),_e,r(f)]),_:1})])])}const Pe=F(he,[["render",we],["__scopeId","data-v-014fcabe"]]);export{Pe as default};
